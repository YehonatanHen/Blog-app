{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\yonat\\\\Blog-app\\\\src\\\\components\\\\navbar.jsx\";\nimport React from 'react';\nimport { Navbar, Nav, NavDropdown } from 'react-bootstrap';\nimport { Redirect } from 'react-router-dom'; //send to app.js which component is active. \n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nclass NavBar extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.RedirectToHomePage = () => {\n      fetch('/logout/' + this.state.LoggedUser, {\n        method: 'GET'\n      }) //logout user - delete tokens\n      .then(sessionStorage.removeItem(\"username\"), this.setState({\n        redirectHome: true\n      }));\n    };\n\n    this.handleRedirectToUpdateUser = () => {\n      this.setState({\n        redirectToUpdate: true\n      });\n    };\n\n    this.handleDeleteUser = () => {\n      fetch('/delete/myuser', {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          \"username\": this.state.LoggedUser\n        })\n      }).then(this.RedirectToHomePage()).catch(error => {\n        alert(error);\n      });\n    };\n\n    this.state = {\n      redirectHome: false,\n      redirectToUpdate: false,\n      LoggedUser: sessionStorage.getItem(\"username\")\n    };\n    this.handleDeleteUser = this.handleDeleteUser.bind(this);\n    this.RedirectToHomePage = this.RedirectToHomePage.bind(this);\n    this.handleRedirectToUpdateUser = this.handleRedirectToUpdateUser.bind(this);\n  }\n\n  render() {\n    if (!this.state.LoggedUser) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: {\n          pathname: '/authError'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }, this);\n    }\n\n    if (this.state.redirectHome) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: {\n          pathname: '/'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this);\n    }\n\n    if (this.state.redirectToUpdate) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: {\n          pathname: '/updateUser'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {\n        variant: \"dark\",\n        children: [/*#__PURE__*/_jsxDEV(Navbar.Brand, {\n          href: \"/blog\",\n          children: \"Blog-App\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Nav, {\n          className: \"mr-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Navbar.Collapse, {\n          className: \"justify-content-end\",\n          children: [/*#__PURE__*/_jsxDEV(Navbar.Text, {\n            children: \"Signed in as:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(NavDropdown, {\n            title: this.state.LoggedUser,\n            id: \"nav-dropdown\",\n            children: [/*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n              onClick: this.handleRedirectToUpdateUser,\n              children: \"Update user\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n              onClick: this.handleDeleteUser,\n              children: \"Delete user\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 86,\n              columnNumber: 9\n            }, this), /*#__PURE__*/_jsxDEV(NavDropdown.Item, {\n              onClick: this.RedirectToHomePage,\n              children: \"Log-out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 9\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}\n\n;\nexport default NavBar;","map":{"version":3,"sources":["C:/Users/yonat/Blog-app/src/components/navbar.jsx"],"names":["React","Navbar","Nav","NavDropdown","Redirect","NavBar","Component","constructor","props","RedirectToHomePage","fetch","state","LoggedUser","method","then","sessionStorage","removeItem","setState","redirectHome","handleRedirectToUpdateUser","redirectToUpdate","handleDeleteUser","headers","body","JSON","stringify","catch","error","alert","getItem","bind","render","pathname"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Navbar, Nav, NavDropdown} from 'react-bootstrap';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n//send to app.js which component is active. \r\nclass NavBar extends React.Component {\r\n  constructor(props) { \r\n    super(props)\r\n    this.state = {\r\n      redirectHome: false,\r\n      redirectToUpdate: false,\r\n      LoggedUser: sessionStorage.getItem(\"username\")\r\n    }\r\n\r\n    this.handleDeleteUser = this.handleDeleteUser.bind(this)\r\n    this.RedirectToHomePage = this.RedirectToHomePage.bind(this)\r\n    this.handleRedirectToUpdateUser = this.handleRedirectToUpdateUser.bind(this)\r\n  }\r\n\r\n  RedirectToHomePage = () => {\r\n    fetch('/logout/' + this.state.LoggedUser , {\r\n      method: 'GET'\r\n    }) //logout user - delete tokens\r\n    .then( \r\n      sessionStorage.removeItem(\"username\"),\r\n      this.setState({\r\n        redirectHome: true,\r\n      })\r\n    )\r\n  }\r\n\r\n  handleRedirectToUpdateUser = () => {\r\n      this.setState({\r\n        redirectToUpdate: true\r\n      })\r\n  }\r\n\r\n  handleDeleteUser = () => {\r\n    fetch('/delete/myuser', {\r\n      method: 'DELETE',\r\n      headers: {'Content-Type':'application/json'},\r\n      body: JSON.stringify({ \"username\": this.state.LoggedUser })\r\n    })\r\n    .then(\r\n      this.RedirectToHomePage()\r\n    )\r\n    .catch((error) => {\r\n      alert(error)\r\n    })\r\n  }\r\n\r\n  render () {\r\n    if (!this.state.LoggedUser) {\r\n      return (\r\n          <Redirect to={{\r\n            pathname: '/authError',\r\n        }}/>\r\n      )}\r\n    if (this.state.redirectHome) {\r\n      return (\r\n          <Redirect to={{\r\n            pathname: '/',\r\n        }}/>\r\n      )}\r\n      if (this.state.redirectToUpdate) {\r\n        return (\r\n            <Redirect to={{\r\n              pathname: '/updateUser',\r\n          }}/>\r\n        )}\r\n    return ( \r\n      <>\r\n        <Navbar variant=\"dark\">\r\n          <Navbar.Brand href=\"/blog\">Blog-App</Navbar.Brand>\r\n          <Nav className=\"mr-auto\">\r\n            {/* <Nav.Link href=\"/blog\">Blog</Nav.Link>\r\n            <Nav.Link href=\"/chat\">Chat</Nav.Link>\r\n            <Nav.Link href=\"/about\">About</Nav.Link> */}\r\n          </Nav>\r\n          <Navbar.Collapse className=\"justify-content-end\">\r\n          <Navbar.Text>\r\n            Signed in as:\r\n          </Navbar.Text>\r\n          <NavDropdown title={this.state.LoggedUser} id=\"nav-dropdown\">\r\n        <NavDropdown.Item onClick={this.handleRedirectToUpdateUser}>Update user</NavDropdown.Item>\r\n        <NavDropdown.Item onClick={this.handleDeleteUser}>Delete user</NavDropdown.Item>\r\n        <NavDropdown.Item onClick={this.RedirectToHomePage}>Log-out</NavDropdown.Item>\r\n        </NavDropdown>\r\n          </Navbar.Collapse>\r\n        </Navbar>\r\n        <br />\r\n      </>\r\n    );\r\n  };\r\n};\r\n\r\nexport default NavBar"]},"metadata":{},"sourceType":"module"}