{"ast":null,"code":"import _classCallCheck from\"C:/Users/yonat/Blog-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/yonat/Blog-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/yonat/Blog-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/yonat/Blog-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/yonat/Blog-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Jumbotron,Container,Accordion,Button,InputGroup,FormControl}from'react-bootstrap';import Post from'./blog-components/post';import Navbar from'./navbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Blog=/*#__PURE__*/function(_React$Component){_inherits(Blog,_React$Component);var _super=_createSuper(Blog);function Blog(props){var _this;_classCallCheck(this,Blog);_this=_super.call(this,props);_this.redirectToAddPost=function(){_this.props.history.push(\"/addPost\");};_this.state={posts:null};fetch('/posts/',{method:'GET'}).then(function(response){return response.json();}).then(function(data){console.log(data);_this.setState({posts:data});console.log(_this.state.posts);}).catch(function(error){console.log(error);alert(\"An error occured!\");});_this.redirectToAddPost=_this.redirectToAddPost.bind(_assertThisInitialized(_this));return _this;}_createClass(Blog,[{key:\"render\",value:function render(){if(this.state.posts)return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(Container,{className:\"text-center\",children:[/*#__PURE__*/_jsxs(Jumbotron,{fluid:true,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"In this blog you can share with the network everything you want!\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(Button,{onClick:this.redirectToAddPost,children:\"Add new post\"})})]}),this.state.posts.map(function(post){return/*#__PURE__*/_jsx(Accordion,{children:/*#__PURE__*/_jsx(Post,{_id:post._id,body:post.body,author:post.author,title:post.title,likes:post.likes})});})]});else return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}}]);return Blog;}(React.Component);;export default Blog;","map":{"version":3,"sources":["C:/Users/yonat/Blog-app/src/components/blog.jsx"],"names":["React","Jumbotron","Container","Accordion","Button","InputGroup","FormControl","Post","Navbar","Blog","props","redirectToAddPost","history","push","state","posts","fetch","method","then","response","json","data","console","log","setState","catch","error","alert","bind","map","post","_id","body","author","title","likes","Component"],"mappings":"ssBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,SAAT,CAAoBC,SAApB,CAA+BC,SAA/B,CAA0CC,MAA1C,CAAkDC,UAAlD,CAA8DC,WAA9D,KAAiF,iBAAjF,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,gJAGMC,CAAAA,I,wGACH,cAAYC,KAAZ,CAAmB,sCACf,uBAAMA,KAAN,EADe,MAwBnBC,iBAxBmB,CAwBC,UAAM,CACzB,MAAKD,KAAL,CAAWE,OAAX,CAAmBC,IAAnB,aACA,CA1BkB,CAEf,MAAKC,KAAL,CAAa,CACZC,KAAK,CAAE,IADK,CAAb,CAIAC,KAAK,CAAC,SAAD,CAAY,CAChBC,MAAM,CAAE,KADQ,CAAZ,CAAL,CAGFC,IAHE,CAGG,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EAHX,EAIFF,IAJE,CAIG,SAACG,IAAD,CAAU,CACZC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,MAAKG,QAAL,CAAc,CACVT,KAAK,CAAEM,IADG,CAAd,EAGAC,OAAO,CAACC,GAAR,CAAY,MAAKT,KAAL,CAAWC,KAAvB,EACH,CAVE,EAUAU,KAVA,CAUM,SAAAC,KAAK,CAAI,CACdJ,OAAO,CAACC,GAAR,CAAYG,KAAZ,EACAC,KAAK,CAAC,mBAAD,CAAL,CACH,CAbE,EAeA,MAAKhB,iBAAL,CAAyB,MAAKA,iBAAL,CAAuBiB,IAAvB,+BAAzB,CArBe,aAsBlB,C,uCAMA,iBAAS,CACN,GAAI,KAAKd,KAAL,CAAWC,KAAf,CAAsB,mBACjB,wCACA,KAAC,MAAD,IADA,cAEI,MAAC,SAAD,EAAW,SAAS,CAAC,aAArB,wBACI,MAAC,SAAD,EAAW,KAAK,KAAhB,wBACQ,gCADR,cAEQ,uFAFR,GADJ,cAOI,aAPJ,cAeI,aAfJ,cAgBI,YAAK,SAAS,CAAC,+BAAf,uBACA,KAAC,MAAD,EAAQ,OAAO,CAAE,KAAKJ,iBAAtB,0BADA,EAhBJ,GAFJ,CAuBY,KAAKG,KAAL,CAAWC,KAAX,CAAiBc,GAAjB,CAAqB,SAAUC,IAAV,CAAgB,CACjC,mBACI,KAAC,SAAD,wBACI,KAAC,IAAD,EACI,GAAG,CAAIA,IAAI,CAACC,GADhB,CAEI,IAAI,CAAID,IAAI,CAACE,IAFjB,CAGI,MAAM,CAAIF,IAAI,CAACG,MAHnB,CAII,KAAK,CAAIH,IAAI,CAACI,KAJlB,CAKI,KAAK,CAAIJ,IAAI,CAACK,KALlB,EADJ,EADJ,CAWH,CAZD,CAvBZ,GADiB,CAAtB,IAwCM,oBAAQ,mCAAR,CACR,C,kBAvEcnC,KAAK,CAACoC,S,EAwExB,CAED,cAAe3B,CAAAA,IAAf","sourcesContent":["import React from 'react';\r\nimport { Jumbotron, Container, Accordion, Button, InputGroup, FormControl } from 'react-bootstrap';\r\nimport Post from './blog-components/post'\r\nimport Navbar from './navbar'\r\n\r\n\r\nclass Blog extends React.Component {\r\n   constructor(props) {\r\n       super(props)\r\n       this.state = {\r\n        posts: null\r\n       }\r\n\r\n       fetch('/posts/', {\r\n        method: 'GET'\r\n    })\r\n    .then(response => response.json())\r\n    .then((data) => {\r\n        console.log(data)\r\n        this.setState({\r\n            posts: data\r\n        })\r\n        console.log(this.state.posts)\r\n    }).catch(error => {\r\n        console.log(error)\r\n        alert(\"An error occured!\")\r\n    })\r\n\r\n       this.redirectToAddPost = this.redirectToAddPost.bind(this)\r\n   }\r\n\r\n   redirectToAddPost = () => {\r\n    this.props.history.push(`/addPost`);\r\n   }\r\n\r\n    render() {\r\n       if (this.state.posts) return (\r\n            <>\r\n            <Navbar/>\r\n                <Container className=\"text-center\">\r\n                    <Jumbotron fluid>\r\n                            <h1>Welcome!</h1>\r\n                            <p>\r\n                            In this blog you can share with the network everything you want!\r\n                            </p>\r\n                    </Jumbotron>\r\n                    <br/>\r\n                    {/* <InputGroup size=\"sm search\">\r\n                        <InputGroup.Prepend className='d-flex justify-content-center'>\r\n                        <InputGroup.Text>Search</InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <FormControl aria-label=\"Small\" /> \r\n                        onKeyUp={this.filteredPosts(Event)} \r\n                    </InputGroup> */}\r\n                    <br/>\r\n                    <div className='d-flex justify-content-center'>\r\n                    <Button onClick={this.redirectToAddPost}>Add new post</Button>\r\n                    </div>\r\n                </Container>\r\n                    {\r\n                        this.state.posts.map(function (post) {\r\n                            return (\r\n                                <Accordion>\r\n                                    <Post \r\n                                        _id = {post._id} \r\n                                        body = {post.body} \r\n                                        author = {post.author} \r\n                                        title = {post.title}\r\n                                        likes = {post.likes}\r\n                                    />\r\n                                </Accordion>\r\n                            )\r\n                        })\r\n                    }\r\n            </>\r\n        )\r\n        else return (<div>Loading...</div>);\r\n    };\r\n};\r\n\r\nexport default Blog"]},"metadata":{},"sourceType":"module"}