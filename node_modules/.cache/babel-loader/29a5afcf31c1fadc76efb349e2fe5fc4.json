{"ast":null,"code":"import _classCallCheck from\"C:/Users/yonat/Blog-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/yonat/Blog-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/yonat/Blog-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/yonat/Blog-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/yonat/Blog-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Form,Button,Container}from'react-bootstrap';import{Redirect}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LogIn=/*#__PURE__*/function(_React$Component){_inherits(LogIn,_React$Component);var _super=_createSuper(LogIn);function LogIn(props){var _this;_classCallCheck(this,LogIn);_this=_super.call(this,props);_this.handleUsername=function(event){_this.setState({username:event.target.value});};_this.handlePassword=function(event){_this.setState({password:event.target.value});};_this.handleSubmit=function(event){event.preventDefault();fetch('/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({\"username\":_this.state.username,\"password\":_this.state.password})}).then(function(response){return response.json();}).then(function(response){console.log(response);if(!response.username)alert('Username/Password are not correct.');else{sessionStorage.setItem(\"username\",response.username);sessionStorage.setItem(\"_id\",response.id);_this.setState({redirect:true});}}).catch(function(error){alert(error);});};_this.state={redirect:false,username:'',password:''};_this.handleUsername=_this.handleUsername.bind(_assertThisInitialized(_this));_this.handlePassword=_this.handlePassword.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(LogIn,[{key:\"render\",value:function render(){if(this.state.redirect)return/*#__PURE__*/_jsx(Redirect,{to:{pathname:'/blog',props:{username:this.state.username}}});else return/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"user-username\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",placeholder:\"Enter username\",value:this.state.username,onChange:this.handleUsername})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"user-password\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Password\",value:this.state.password,onChange:this.handlePassword})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",children:\"Submit\"})]})});}}]);return LogIn;}(React.Component);;export default LogIn;","map":{"version":3,"sources":["C:/Users/yonat/Blog-app/src/components/main-components/log-in.jsx"],"names":["React","Form","Button","Container","Redirect","LogIn","props","handleUsername","event","setState","username","target","value","handlePassword","password","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","state","then","response","json","console","log","alert","sessionStorage","setItem","id","redirect","catch","error","bind","pathname","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { Form, Button, Container } from 'react-bootstrap';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nclass LogIn extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            redirect: false,\r\n            username: '',\r\n            password: '',\r\n        }\r\n\r\n        this.handleUsername = this.handleUsername.bind(this);\r\n        this.handlePassword = this.handlePassword.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleUsername = (event) => {\r\n        this.setState({username: event.target.value});\r\n    }\r\n\r\n    handlePassword = (event) => {\r\n        this.setState({password: event.target.value}); \r\n    }\r\n\r\n    handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        fetch('/login', {\r\n            method: 'POST',\r\n            headers: {'Content-Type':'application/json'},\r\n            body: JSON.stringify({\r\n                \"username\": this.state.username,\r\n                \"password\": this.state.password\r\n            })\r\n        })\r\n        .then(response => response.json())\r\n        .then(response => {\r\n            console.log(response)\r\n            if (!response.username) alert('Username/Password are not correct.')\r\n            else {\r\n                sessionStorage.setItem(\"username\", response.username)\r\n                sessionStorage.setItem(\"_id\", response.id)\r\n                this.setState({ redirect: true })\r\n            }\r\n        })\r\n        .catch((error) => {\r\n            alert(error)\r\n        })\r\n    }\r\n    \r\n\r\n    render () {\r\n        if (this.state.redirect)\r\n            return (\r\n            <Redirect to={{\r\n                pathname: '/blog',\r\n                props: { username: this.state.username }\r\n            }}/>\r\n            )\r\n        else return (\r\n            <Container>\r\n                <Form onSubmit={this.handleSubmit}>\r\n                    <Form.Group controlId=\"user-username\">\r\n                        <Form.Label>Username</Form.Label>\r\n                        <Form.Control type=\"text\" placeholder=\"Enter username\" value={this.state.username} onChange={this.handleUsername}/>\r\n                    </Form.Group>\r\n                    <Form.Group controlId=\"user-password\">\r\n                        <Form.Label>Password</Form.Label>\r\n                        <Form.Control type=\"password\" placeholder=\"Password\" value={this.state.password} onChange={this.handlePassword}/>\r\n                    </Form.Group>\r\n                    <Button variant=\"primary\" type=\"submit\">\r\n                        Submit\r\n                    </Button >\r\n                </Form>\r\n            </Container>\r\n        );\r\n    };\r\n};\r\n\r\nexport default LogIn\r\n"]},"metadata":{},"sourceType":"module"}